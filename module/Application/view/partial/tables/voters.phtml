<?php 
$row = $this->row;
switch($this->column->getName()) {
    case '#':
        echo $this->index;
        break;
    case 'User':
        $deleted = $row[\Application\Utils\DbConsts\DbViewVotes::USERDELETED]; 
        if ($deleted) { echo "<del>"; }
        echo '<a href="';
        printf('/user/%d', $row[\Application\Utils\DbConsts\DbViewVotes::USERID]);
        echo '">';
        echo $this->escapeHtml($row[\Application\Utils\DbConsts\DbViewVotes::USERDISPLAYNAME]);
        echo "</a>";
        if ($deleted) { echo "</del>";}
        break;
    case 'Votes':
        echo $row['Votes'];
        break;
    case 'Positive':
        echo ($row['Votes']+$row['Sum'])/2;
        break;
    case 'Negative':
        echo ($row['Votes']-$row['Sum'])/2;
        break;
    default:;    
}
?> 