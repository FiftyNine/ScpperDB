<?php 
$row = $this->row;
switch($this->column->getName()) {
    case '#':
        echo $this->index;
        break;
    case 'Branch':
        echo strtoupper($row->getSite()->getShortName());
        break;
    case 'Page':
        echo $this->partial('partial/page.phtml', array('page' => $row));
        break;
    case 'Total':
        echo $row->getCleanRating();
        break;
    case 'Contributor':
        echo $row->getContributorRating();
        break;
    case 'Adjusted':
        echo $row->getAdjustedRating();
        break;
    case 'Wilson':
        echo number_format($row->getWilsonScore()*100, 2).'%';
        break;
    case 'Status':
        echo \Application\Utils\PageStatus::getDescription($row->getStatus());
        break;
    case 'Kind':
        echo \Application\Utils\PageKind::getDescription($row->getKind());
        break;
    case 'Posted':
        echo $row->getCreationDate()->format('Y-m-d');
        break;
    case 'Authors':
        $authors = $row->getAuthors();
        $one = 1 === count($authors);
        foreach ($authors as $author) {
            echo $this->partial('partial/user.phtml', array('user' => $author->getUser()));
            if (!$one || $author->getRole() !== \Application\Utils\AuthorRole::AUTHOR) {
                printf("&nbsp;(%s)", \Application\Utils\AuthorRole::getDescription($author->getRole()));
            }
            echo "<br>";
        }
        break;
    default:;    
}
?> 